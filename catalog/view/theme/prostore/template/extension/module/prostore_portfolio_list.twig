{{ header }}{% set col = column_left ? 9 : 12 %}{% set col = column_right ? col - 3 : col %}
<link href="catalog/view/theme/prostore/stylesheet/portfolio.css" rel="stylesheet" />
<style type="text/css">
/* Override theme's fancybox caption hiding - inline styles for priority */
.portfolio-list .fancybox-caption {
	display: block !important;
	opacity: 1 !important;
	bottom: 0 !important;
}
.fancybox-title {
	display: block !important;
	font-size: 18px;
	font-weight: 600;
	color: #fff;
	margin-bottom: 8px;
}
.fancybox-description {
	display: block !important;
	font-size: 14px;
	color: #e0e0e0;
	line-height: 1.5;
}
</style>
<!-- Main :: Start-->
<main class="main">
	<!-- Breadcrumbs :: Start-->
	<div class="breadcrumbs">
		<div class="container-fluid">
			<h1 class="breadcrumbs__title">{{ heading_title }}</h1>
			<ul class="breadcrumbs__menu">
				{% for i, breadcrumb in breadcrumbs %}
					{% if (i + 1 < breadcrumbs|length) %}
					<li><a class="breadcrumbs__link" href="{{ breadcrumb.href }}"><span>{{ breadcrumb.text }}</span></a></li>
					{% else %}
					<li>{{ breadcrumb.text }}</li>
					{% endif %}
				{% endfor %}
			</ul>
		</div>
	</div>
	<!-- Breadcrumbs :: End-->

	{{ content_top }}
	<div class="row">
		{{ column_left }}
		<div class="col-xl-{{ col }}">
			<!-- Portfolio List :: Start-->
			<div class="portfolio-list">
				<div class="container-fluid">
					<ul class="portfolio-list__grid">
						{% for portfolio in portfolios %}
						<li>
							<div class="portfolio-list__item">
								<a class="portfolio-list__link js-portfolio-popup" href="{{ portfolio.popup }}" data-caption="{{ portfolio.title }}" data-description="{{ portfolio.description_plain }}">
									<div class="portfolio-list__image">
										<img src="{{ portfolio.thumb }}" alt="{{ portfolio.title }}" loading="lazy" />
									</div>
								</a>
								<span class="portfolio-list__title">{{ portfolio.title }}</span>
								{% if portfolio.description %}
								<span class="portfolio-list__description">{{ portfolio.description }}</span>
								{% endif %}
							</div>
						</li>
						{% endfor %}
					</ul>
					<div class="container-pagination">
						{{ pagination }}
					</div>
					{% if results %}
					<div class="portfolio-list__results">{{ results }}</div>
					{% endif %}
				</div>
			</div>
			<!-- Portfolio List :: End-->
		</div>
		{{ column_right }}
	</div>
	{{ content_bottom }}
</main>
<!-- Main :: End-->

<script type="text/javascript"><!--
$(document).ready(function() {
	// Initialize Fancybox for portfolio images
	$('.js-portfolio-popup').fancybox({
		buttons: [
			'zoom',
			'slideShow',
			'fullScreen',
			'thumbs',
			'close'
		],
		loop: true,
		protect: true,
		caption : function( instance, item ) {
			var caption = $(this).data('caption');
			var description = $(this).data('description');

			// Return both title and description
			if (description) {
				return '<div class="fancybox-title">' + caption + '</div><div class="fancybox-description">' + description + '</div>';
			}
			return caption;
		},
		afterLoad: function(instance, current) {
			// Custom caption styling is handled by caption function
		}
	});
});
//--></script>

{{ footer }}
