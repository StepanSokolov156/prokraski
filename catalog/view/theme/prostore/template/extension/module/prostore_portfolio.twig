<link href="catalog/view/theme/prostore/stylesheet/portfolio.css" rel="stylesheet" />
<style type="text/css">
/* Override theme's fancybox caption hiding - inline styles for priority */
.portfolio-featured .fancybox-caption,
.portfolio-list .fancybox-caption {
	display: block !important;
	opacity: 1 !important;
	bottom: 0 !important;
}
.fancybox-title {
	display: block !important;
	font-size: 18px;
	font-weight: 600;
	color: #fff;
	margin-bottom: 8px;
}
.fancybox-description {
	display: block !important;
	font-size: 14px;
	color: #e0e0e0;
	line-height: 1.5;
}
</style>
<!-- Portfolio Gallery -->
<div class="portfolio-featured">
  <div class="container-fluid">
    {% if heading_title %}
    <span class="h2 portfolio-featured__title">{{ heading_title }}</span>
    {% endif %}
    <div class="portfolio-featured__grid">
      {% for portfolio in portfolios %}
      <div class="portfolio-featured__item">
        <a class="portfolio-featured__link js-portfolio-popup" href="{{ portfolio.popup }}" data-caption="{{ portfolio.title }}" data-description="{{ portfolio.description_plain }}">
          <div class="portfolio-featured__item-image">
            <img src="{{ portfolio.thumb }}" alt="{{ portfolio.title }}" loading="lazy" />
          </div>
        </a>
        {% if portfolio.description %}
        <span class="portfolio-featured__item-caption">{{ portfolio.description }}</span>
        {% endif %}
      </div>
      {% endfor %}
    </div>
  </div>
</div>

<script type="text/javascript"><!--
$(document).ready(function() {
	// Initialize Fancybox for portfolio images
	$('.js-portfolio-popup').fancybox({
		buttons: [
			'zoom',
			'slideShow',
			'fullScreen',
			'thumbs',
			'close'
		],
		loop: true,
		protect: true,
		caption : function( instance, item ) {
			var caption = $(this).data('caption');
			var description = $(this).data('description');

			// Return both title and description
			if (description) {
				return '<div class="fancybox-title">' + caption + '</div><div class="fancybox-description">' + description + '</div>';
			}
			return caption;
		},
		afterLoad: function(instance, current) {
			// Custom caption styling is handled by caption function
		}
	});
});
//--></script>
